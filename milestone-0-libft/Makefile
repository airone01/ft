# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: elagouch <elagouch@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2025/01/17 14:07:33 by elagouch          #+#    #+#              #
#    Updated: 2025/01/23 12:28:50 by elagouch         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

# **************************************************************************** #
#                               ANSI COLOR CODES                               #
# **************************************************************************** #

include $(realpath ../extra-make/art.mk) # GPM!
# GPM: make_ansi_color_codes
COLOR			= $(COLOR_LIBFT)

# **************************************************************************** #
#                            COMMON ANSI VARIABLES                             #
# **************************************************************************** #

# GPM: make_ansi_color_variables

# **************************************************************************** #
#                                   METADATA                                   #
# **************************************************************************** #
GPM_MSTONE	= 0
GPM_NAME	= libft
GPM_FNAME	= $(GPM_MSTONE)-$(GPM_NAME)
NAME		= libft.a
OUT_DIR 	= .out/

# **************************************************************************** #
#                                   COMMANDS                                   #
# **************************************************************************** #

include $(realpath ../extra-make/commands.mk) # GPM!
# GPM: make_commands

# **************************************************************************** #
#                                    FLAGS                                     #
# **************************************************************************** #

CFLAGS		= -Wall -Werror -Wextra -Wpedantic -MD -MP

# **************************************************************************** #
#                                   SOURCES                                    #
# **************************************************************************** #

# GPM: make_src
include $(realpath ../extra-make/sources.mk) # GPM!

# **************************************************************************** #
#                                   MAPPING                                    #
# **************************************************************************** #
OBJ			= $(_SRC_LIBFT:%=$(OUT_DIR)%.o)
DEP			= $(_SRC_LIBFT:%=$(OUT_DIR)%.d)
OBJ_BONUS	= $(_SRC_LIBFT_BONUS:%=$(OUT_DIR)%.o)
DEP_BONUS	= $(_SRC_LIBFT_BONUS:%=$(OUT_DIR)%.d)

# **************************************************************************** #
#                                   TARGETS                                    #
# **************************************************************************** #

include $(realpath ../extra-make/targets_common.mk) # GPM!
# GPM: make_target_common

.title:
	@$(ECHO) "$(MSG)   ___ __   _____\n"
	@$(ECHO) "$(MSG)  / (_) /  / _/ /_\n"
	@$(ECHO) "$(MSG) / / / _ \\/ _/ __/\n"
	@$(ECHO) "$(MSG)/_/_/_.__/_/ \\__/\n"
	@$(ECHO) "$(MSG) \n"
	@touch .title

include $(realpath ../extra-make/targets_lib_bonus.mk) # GPM!
# GPM: make_target_lib_bonus

# ----------- Make meta ----------
MAKEFLAGS	+= --no-print-directory
-include $(DEP) $(DEP_BONUS)
.PHONY: all bonus clean fclean re title
